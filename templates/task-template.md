# [功能名称] - 开发任务分解

> **注意**：本文件只列「做什么」，具体「怎么做」参考 `plan.md` 对应章节。

## 任务说明

遵循以下原则：

1. **自下而上**：按 `基础设施 → 核心模块 → 集成层 → 部署 → E2E` 顺序排列
2. **TDD 强制**：每个模块先写测试，再写实现（红 → 绿 → 重构）
3. **任务粒度**：每个任务只涉及一个文件的修改或新建
4. **引用优先**：不重复 plan.md 内容，用「见 plan.md 第 X 节」引用
5. **顺序执行**：从上到下执行，完成后将 `[ ]` 标记为 `[x]`

---

## 基础设施（先决条件）

> 对应 plan.md 第 X 节

**1. [ ] [任务描述]**
- 文件：`[文件路径]`
- 动作：[新建/修改]
- 见 plan.md 第 X 节

**2. [ ] [任务描述]**
- 文件：`[文件路径]`
- 动作：[新建/修改]

---

## 模块一：[模块名称]

> 对应 plan.md 第 X 节「[模块名]」

### 单元测试（纯函数）

**3. [ ] [模块名] 单元测试**
- 文件：`tests/unit/test_[module].py`
- 覆盖：plan.md 第 X 节标注的纯函数
- 约束：禁止 Mock，仅测试纯逻辑

### 集成测试（I/O 操作）

**4. [ ] [模块名] 集成测试**
- 文件：`tests/integration/test_[module].py`
- 覆盖：plan.md 第 X 节的接口方法
- 约束：最多 3 个方法，可用参数化扩展场景

### 实现

**5. [ ] 实现 [模块名]**
- 文件：`src/[module].py`
- 实现：plan.md 第 X 节定义的接口

---

## 模块二：[模块名称]

> 对应 plan.md 第 X 节「[模块名]」

### 单元测试（纯函数）

**6. [ ] [模块名] 单元测试**
- 文件：`tests/unit/test_[module].py`
- 覆盖：plan.md 第 X 节标注的纯函数
- 约束：禁止 Mock

### 集成测试（I/O 操作）

**7. [ ] [模块名] 集成测试**
- 文件：`tests/integration/test_[module].py`
- 覆盖：plan.md 第 X 节的接口方法
- 约束：最多 3 个方法

### 实现

**8. [ ] 实现 [模块名]**
- 文件：`src/[module].py`
- 实现：plan.md 第 X 节定义的接口

---

## 集成层

> 对应 plan.md 第 X 节「关键流程」

### 集成测试

**9. [ ] 集成层测试**
- 文件：`tests/integration/test_[entry].py`
- 覆盖：plan.md 第 X 节的主流程编排
- 约束：最多 3 个方法，STUB 隔离外部依赖

### 实现

**10. [ ] 实现集成层**
- 文件：`src/[entry].py`
- 实现：plan.md 第 X 节的流程编排

---

## 容器化部署

> 仅在 plan.md 第 X 节有容器化需求时包含

**11. [ ] 创建 Dockerfile**
- 文件：`Dockerfile`
- 参考：plan.md 第 X 节技术选型

**12. [ ] 创建启动脚本**
- 文件：`[脚本文件名]`

**13. [ ] 创建 docker-compose.yml**
- 文件：`docker-compose.yml`

---

## E2E 测试

**14. [ ] E2E 测试**
- 文件：`tests/e2e/test_[flow].py`
- 覆盖：plan.md 第 X 节的完整流程
- 约束：禁止 Mock

---

## 任务统计

- 总任务数：**N** 个
- 单元测试：X 个
- 集成测试：X 个
- 实现任务：X 个
- 配置任务：X 个
- E2E 测试：X 个

---

## 执行建议

1. **按模块顺序**：[模块1] → [模块2] → [集成层] → [容器化] → E2E
2. **TDD 严格执行**：每个模块先跑测试确认红，再写实现确认绿
3. **本地验证**：每个模块完成后立即运行对应测试，不要积累
4. **遇问题查 plan.md**：本文件不重复实现细节，有疑问查看 plan.md 对应章节